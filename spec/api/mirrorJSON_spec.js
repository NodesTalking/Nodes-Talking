/**

 /$$      /$$ /$$                                                  /$$$$$  /$$$$$$   /$$$$$$  /$$   /$$       /$$$$$$$$                    /$$
| $$$    /$$$|__/                                                 |__  $$ /$$__  $$ /$$__  $$| $$$ | $$      |__  $$__/                   | $$
| $$$$  /$$$$ /$$  /$$$$$$   /$$$$$$   /$$$$$$   /$$$$$$             | $$| $$  \__/| $$  \ $$| $$$$| $$         | $$  /$$$$$$   /$$$$$$$ /$$$$$$
| $$ $$/$$ $$| $$ /$$__  $$ /$$__  $$ /$$__  $$ /$$__  $$            | $$|  $$$$$$ | $$  | $$| $$ $$ $$         | $$ /$$__  $$ /$$_____/|_  $$_/
| $$  $$$| $$| $$| $$  \__/| $$  \__/| $$  \ $$| $$  \__/       /$$  | $$ \____  $$| $$  | $$| $$  $$$$         | $$| $$$$$$$$|  $$$$$$   | $$
| $$\  $ | $$| $$| $$      | $$      | $$  | $$| $$            | $$  | $$ /$$  \ $$| $$  | $$| $$\  $$$         | $$| $$_____/ \____  $$  | $$ /$$
| $$ \/  | $$| $$| $$      | $$      |  $$$$$$/| $$            |  $$$$$$/|  $$$$$$/|  $$$$$$/| $$ \  $$         | $$|  $$$$$$$ /$$$$$$$/  |  $$$$/
|__/     |__/|__/|__/      |__/       \______/ |__/             \______/  \______/  \______/ |__/  \__/         |__/ \_______/|_______/    \___/


**/

var frisby = require('frisby')
    ,fs = require('fs');

var data1 = {message: {"json": {"data":"testMessage","type":"message","object":"myObject"}}}
frisby.create('Mirror JSON')
    .post('http://localhost:3000/json-mirror', {
        data : data1
    }, {json:true})
    .expectStatus(200)
    .expectHeaderContains('Content-Type','json')
    .expectJSON({
        result: data1
    })
.toss()
